[debug] [2017-11-06T20:06:38.743Z] ----------------------------------------------------------------------
[debug] [2017-11-06T20:06:38.746Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2017-11-06T20:06:38.746Z] CLI Version:   3.14.0
[debug] [2017-11-06T20:06:38.746Z] Platform:      darwin
[debug] [2017-11-06T20:06:38.746Z] Node Version:  v8.7.0
[debug] [2017-11-06T20:06:38.747Z] Time:          Mon Nov 06 2017 22:06:38 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:38.747Z] ----------------------------------------------------------------------
[debug] 
[debug] [2017-11-06T20:06:38.770Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2017-11-06T20:06:38.770Z] > authorizing via signed-in user
[debug] [2017-11-06T20:06:38.773Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/altair-e7ed4  
 Mon Nov 06 2017 22:06:38 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:40.897Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:06:40.898Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/altair-e7ed4/tokens  
 Mon Nov 06 2017 22:06:40 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:42.103Z] <<< HTTP RESPONSE 200
[info] 2
[info] 
[info] === Deploying to 'altair-e7ed4'...
[info] 
[info] i  deploying functions, hosting
[debug] [2017-11-06T20:06:46.346Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "dependencies": {
    "@google-cloud/storage": "^1.4.0",
    "@google-cloud/vision": "^0.12.0",
    "algoliasearch": "^3.24.5",
    "cors": "^2.8.4",
    "express": "^4.16.2",
    "firebase-admin": "~5.4.0",
    "firebase-functions": "^0.7.0",
    "superagent": "^3.8.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[info] i  runtimeconfig: ensuring necessary APIs are enabled...
[debug] [2017-11-06T20:06:46.347Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/altair-e7ed4?view=CONSUMER_VIEW  
 Mon Nov 06 2017 22:06:46 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:46.348Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/altair-e7ed4?view=CONSUMER_VIEW  
 Mon Nov 06 2017 22:06:46 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:49.564Z] <<< HTTP RESPONSE 200
[info] ✔  runtimeconfig: all necessary APIs are enabled
[debug] [2017-11-06T20:06:50.075Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2017-11-06T20:06:50.076Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/altair-e7ed4  
 Mon Nov 06 2017 22:06:50 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:50.076Z] >>> HTTP REQUEST GET https://apikeys.googleapis.com/v1/projects/altair-e7ed4/apiKeys  
 Mon Nov 06 2017 22:06:50 GMT+0200 (SAST)
[debug] [2017-11-06T20:06:53.146Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:06:53.201Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2017-11-06T20:07:02.455Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs  
 Mon Nov 06 2017 22:07:02 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:04.709Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:04.710Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables  
 Mon Nov 06 2017 22:07:04 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:04.711Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/google/variables  
 Mon Nov 06 2017 22:07:04 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:06.321Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:06.321Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables/api_key  
 Mon Nov 06 2017 22:07:06 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:06.322Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables/app_id  
 Mon Nov 06 2017 22:07:06 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:06.322Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables/search_key  
 Mon Nov 06 2017 22:07:06 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:06.326Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:06.327Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/google/variables/api_key  
 Mon Nov 06 2017 22:07:06 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:07.909Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:07.949Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:07.961Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:08.003Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (49.14 KB) for uploading
[debug] [2017-11-06T20:07:11.688Z] >>> HTTP REQUEST GET https://www.googleapis.com/storage/v1/b/staging.altair-e7ed4.appspot.com  
 Mon Nov 06 2017 22:07:11 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:13.792Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:13.793Z] >>> HTTP REQUEST POST https://www.googleapis.com/upload/storage/v1/b/staging.altair-e7ed4.appspot.com/o?uploadType=media&name=firebase-functions-source ReadStream {
  _readableState: 
   ReadableState {
     objectMode: false,
     highWaterMark: 65536,
     buffer: BufferList { head: [Object], tail: [Object], length: 1 },
     length: 50315,
     pipes: null,
     pipesCount: 0,
     flowing: null,
     ended: true,
     endEmitted: false,
     reading: false,
     sync: false,
     needReadable: false,
     emittedReadable: true,
     readableListening: false,
     resumeScheduled: false,
     destroyed: false,
     defaultEncoding: 'utf8',
     awaitDrain: 0,
     readingMore: false,
     decoder: null,
     encoding: null },
  readable: true,
  domain: null,
  _events: { end: [Function] },
  _eventsCount: 1,
  _maxListeners: undefined,
  path: '/var/folders/_t/_r4lybbs32b56ht9ks6_xnr40000gn/T/firebase-functions-18136Sfsjc5Nn3dXi.zip',
  fd: 19,
  flags: 'r',
  mode: 438,
  start: undefined,
  end: undefined,
  autoClose: true,
  pos: undefined,
  bytesRead: 50315 } 
 Mon Nov 06 2017 22:07:13 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:20.486Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[info] i  hosting: preparing build directory for upload...
[debug] [2017-11-06T20:07:20.633Z] >>> HTTP REQUEST PUT https://deploy.firebase.com/v1/hosting/altair-e7ed4/uploads/-KyHwKwcJr3CbsZwdf7i?fileCount=34&message=  
 Mon Nov 06 2017 22:07:20 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:31.620Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:31.621Z] [hosting] .tgz uploaded successfully, waiting for extraction
[info] ✔  hosting: 34 files uploaded successfully
[debug] [2017-11-06T20:07:32.292Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1beta2/projects/altair-e7ed4/locations/us-central1/functions  
 Mon Nov 06 2017 22:07:32 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:35.132Z] <<< HTTP RESPONSE 200
[info] i  functions: updating function onCustomerCreated...
[debug] [2017-11-06T20:07:35.134Z] Trigger is: 
[info] i  functions: updating function onCustomerDeleted...
[debug] [2017-11-06T20:07:35.135Z] Trigger is: 
[info] i  functions: updating function getSearchKey...
[debug] [2017-11-06T20:07:35.135Z] Trigger is: 
[debug] [2017-11-06T20:07:35.137Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/altair-e7ed4/locations/us-central1/functions/onCustomerCreated { sourceArchiveUrl: 'gs://staging.altair-e7ed4.appspot.com/firebase-functions-source',
  name: 'projects/altair-e7ed4/locations/us-central1/functions/onCustomerCreated',
  entryPoint: 'onCustomerCreated',
  timeout: '60s',
  availableMemoryMb: 256,
  labels: { 'deployment-tool': 'cli-firebase' },
  eventTrigger: 
   { resource: 'projects/altair-e7ed4/databases/(default)/documents/customers/{customerId}',
     eventType: 'providers/cloud.firestore/eventTypes/document.create' } } 
 Mon Nov 06 2017 22:07:35 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:35.138Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/altair-e7ed4/locations/us-central1/functions/onCustomerDeleted { sourceArchiveUrl: 'gs://staging.altair-e7ed4.appspot.com/firebase-functions-source',
  name: 'projects/altair-e7ed4/locations/us-central1/functions/onCustomerDeleted',
  entryPoint: 'onCustomerDeleted',
  timeout: '60s',
  availableMemoryMb: 256,
  labels: { 'deployment-tool': 'cli-firebase' },
  eventTrigger: 
   { resource: 'projects/altair-e7ed4/databases/(default)/documents/customers/{customerId}',
     eventType: 'providers/cloud.firestore/eventTypes/document.delete' } } 
 Mon Nov 06 2017 22:07:35 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:35.138Z] >>> HTTP REQUEST PUT https://cloudfunctions.googleapis.com/v1beta2/projects/altair-e7ed4/locations/us-central1/functions/getSearchKey { sourceArchiveUrl: 'gs://staging.altair-e7ed4.appspot.com/firebase-functions-source',
  name: 'projects/altair-e7ed4/locations/us-central1/functions/getSearchKey',
  entryPoint: 'getSearchKey',
  timeout: '60s',
  availableMemoryMb: 256,
  labels: { 'deployment-tool': 'cli-firebase' },
  httpsTrigger: {} } 
 Mon Nov 06 2017 22:07:35 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:55.270Z] ----------------------------------------------------------------------
[debug] [2017-11-06T20:07:55.272Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2017-11-06T20:07:55.272Z] CLI Version:   3.14.0
[debug] [2017-11-06T20:07:55.272Z] Platform:      darwin
[debug] [2017-11-06T20:07:55.272Z] Node Version:  v8.7.0
[debug] [2017-11-06T20:07:55.273Z] Time:          Mon Nov 06 2017 22:07:55 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:55.273Z] ----------------------------------------------------------------------
[debug] 
[debug] [2017-11-06T20:07:55.292Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2017-11-06T20:07:55.292Z] > authorizing via signed-in user
[debug] [2017-11-06T20:07:55.294Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/altair-e7ed4  
 Mon Nov 06 2017 22:07:55 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:57.009Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:07:57.010Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/altair-e7ed4/tokens  
 Mon Nov 06 2017 22:07:57 GMT+0200 (SAST)
[debug] [2017-11-06T20:07:58.137Z] <<< HTTP RESPONSE 200
[info] 2
[info] 
[info] === Deploying to 'altair-e7ed4'...
[info] 
[info] i  deploying functions, hosting
[debug] [2017-11-06T20:08:01.010Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "dependencies": {
    "@google-cloud/storage": "^1.4.0",
    "@google-cloud/vision": "^0.12.0",
    "algoliasearch": "^3.24.5",
    "cors": "^2.8.4",
    "express": "^4.16.2",
    "firebase-admin": "~5.4.0",
    "firebase-functions": "^0.7.0",
    "superagent": "^3.8.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[info] i  runtimeconfig: ensuring necessary APIs are enabled...
[debug] [2017-11-06T20:08:01.012Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/altair-e7ed4?view=CONSUMER_VIEW  
 Mon Nov 06 2017 22:08:01 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:01.012Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/altair-e7ed4?view=CONSUMER_VIEW  
 Mon Nov 06 2017 22:08:01 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:04.085Z] <<< HTTP RESPONSE 200
[info] ✔  runtimeconfig: all necessary APIs are enabled
[debug] [2017-11-06T20:08:04.636Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2017-11-06T20:08:04.637Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/altair-e7ed4  
 Mon Nov 06 2017 22:08:04 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:04.638Z] >>> HTTP REQUEST GET https://apikeys.googleapis.com/v1/projects/altair-e7ed4/apiKeys  
 Mon Nov 06 2017 22:08:04 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:07.696Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:08:07.705Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2017-11-06T20:08:18.342Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs  
 Mon Nov 06 2017 22:08:18 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:20.441Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:08:20.442Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/google/variables  
 Mon Nov 06 2017 22:08:20 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:20.443Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables  
 Mon Nov 06 2017 22:08:20 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:22.192Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:08:22.193Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables/app_id  
 Mon Nov 06 2017 22:08:22 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:22.193Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables/search_key  
 Mon Nov 06 2017 22:08:22 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:22.194Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/algolia/variables/api_key  
 Mon Nov 06 2017 22:08:22 GMT+0200 (SAST)
[debug] [2017-11-06T20:08:22.216Z] <<< HTTP RESPONSE 200
[debug] [2017-11-06T20:08:22.217Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/altair-e7ed4/configs/google/variables/api_key  
 Mon Nov 06 2017 22:08:22 GMT+0200 (SAST)
